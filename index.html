<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vandit Kad</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
</head>

<body>
    <img src="noise.png" alt="noise" class="noise">
    <nav>
        <div class="options">
            <div class="option">Projects</div>
            <div class="option">About</div>
            <div class="option">Contact</div>
            <div class="option">Lorem</div>
        </div>
    </nav>
    <main>
        <div id="center" class="name">
            Vandit Kad
            <div class="loader"></div>
            <div class="loaderFiller"></div>
        </div>
        <div class="bubble">Python</div>
        <div class="bubble">HTML</div>
        <div class="bubble">CSS</div>
        <div class="bubble">JS</div>
        <div class="bubble">MySQL</div>
        <div class="bubble">Firebase</div>
        <div class="blurDiv"></div>
    </main>
    <section class="projectSection">
        <div class="projectsLogo">
            <div data-project-name="ctrl" class="proLogo"><img src="Ctrl.jpg" alt=""></div>
            <div data-project-name="byte" class="proLogo"><img src="Ctrl.jpg" alt=""></div>
            <div data-project-name="bot" class="proLogo"><img src="Ctrl.jpg" alt=""></div>
            <div data-project-name="crypt" class="proLogo"><img src="Ctrl.jpg" alt=""></div>
        </div>
        <div class="projectsNameContainer">
            <div class="projectName ctrl">
                <span class="pre">C</span>
                <span class="pre">T</span>
                <span class="pre">R</span>
                <span class="pre">L</span>
            </div>
            <div class="projectName byte">
                <span class="pre">B</span>
                <span class="pre">Y</span>
                <span class="pre">T</span>
                <span class="pre">E</span>
            </div>
            <div class="projectName bot">
                <span class="pre">B</span>
                <span class="pre">O</span>
                <span class="pre">T</span>
            </div>
            <div class="projectName crypt">
                <span class="pre">C</span>
                <span class="pre">R</span>
                <span class="pre">Y</span>
                <span class="pre">P</span>
                <span class="pre">T</span>
            </div>
        </div>
    </section>
</body>
<script>

    document.querySelectorAll('.proLogo').forEach(div => {
        let projectDiv;
        const container = document.querySelector('.projectsNameContainer');
        div.onmouseout = function () {
            projectDiv.querySelectorAll('span').forEach(span => {
                const delay = getComputedStyle(span).animationDelay;
                const playState = getComputedStyle(span).animationPlayState;
                span.classList.remove("appear")
            });
        }

        div.onmouseover = function () {
            const project = this.dataset.projectName
            const projectList = project.toUpperCase().split("");
            projectDiv = container.querySelector(`.${project}`);
            console.log(project)
            const middle = (projectList.length - 1) / 2;
            const spans = projectDiv.querySelectorAll('span')

            for (let i = 0; i < projectList.length; i++) {
                const letter = projectList[i];
                let delay = middle - i;
                delay = (delay === 0 || Math.abs(delay) === 0.5) ? 0 : Math.abs(Math.floor(delay));
                spans[i].classList.remove("pre")
                spans[i].classList.add("appear")
                spans[i].style.transitionDelay = `${delay * 50}ms`;
            }
        };
    });

    const center = document.getElementById('center');

    let centerX, centerY;

    function updateCenter() {
        const centerRect = center.getBoundingClientRect();
        centerX = centerRect.left + centerRect.width / 2;
        centerY = centerRect.top + centerRect.height / 2;
    }
    updateCenter();
    window.addEventListener('resize', updateCenter);

    const bubbles = document.querySelectorAll('.bubble');
    const orbitData = [];

    const total = bubbles.length;

    bubbles.forEach((bubble, i) => {
        const baseAngle = (2 * Math.PI * i) / total;

        orbitData.push({
            el: bubble,
            angle: baseAngle,
            radiusX: 300 + Math.random() * 40,
            radiusY: 300 + Math.random() * 40,
            speed: 0.0015 + Math.random() * 0.0015,
            waveAmplitude: 5 + Math.random() * 10,
            waveFreq: 2 + Math.random() * 2,
        });
    });

    let mouseX = 0;
    let mouseY = 0;

    document.addEventListener('mousemove', e => {
        mouseX = e.clientX;
        mouseY = e.clientY;
    });

    function animateOrbit(t) {
        orbitData.forEach(data => {
            const { el, radiusX, radiusY, speed, waveAmplitude, waveFreq } = data;
            data.angle += speed;

            // Elliptical orbit
            let x = centerX + radiusX * Math.cos(data.angle);
            let y = centerY + radiusY * Math.sin(data.angle);

            // Add wave wobble
            x += Math.sin(t * 0.001 * waveFreq) * waveAmplitude;
            y += Math.cos(t * 0.001 * waveFreq) * waveAmplitude;


            // Repel from cursor
            const dx = mouseX - x;
            const dy = mouseY - y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            const repelRadius = 100;

            if (dist < repelRadius) {
                const angle = Math.atan2(dy, dx);
                const force = (repelRadius - dist) / repelRadius;
                x -= Math.cos(angle) * force * 30;
                y -= Math.sin(angle) * force * 30;
            }

            el.style.left = `${x}px`;
            el.style.top = `${y}px`;
        });

        requestAnimationFrame(animateOrbit);
    }

    requestAnimationFrame(animateOrbit);
</script>

</html>